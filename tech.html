<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio DevSecOps - Version Technique</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .tech-container {
            max-width: 900px;
            margin: 0 auto;
            text-align: left;
        }
        
        .back-nav {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .back-link {
            color: #2c2c2c;
            text-decoration: none;
            padding: 10px 20px;
            border: 1px solid #2c2c2c;
            transition: all 0.3s ease;
        }
        
        .back-link:hover {
            background-color: #2c2c2c;
            color: white;
        }
        
        .project-section {
            margin: 40px 0;
            padding: 30px;
            background-color: rgba(255, 255, 255, 0.1);
            border-left: 4px solid #2c2c2c;
        }
        
        .section-title {
            font-size: 1.5em;
            color: #2c2c2c;
            margin-bottom: 20px;
            border-bottom: 2px solid #2c2c2c;
            padding-bottom: 10px;
        }
        
        .tech-stack {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .tech-item {
            padding: 10px;
            background-color: rgba(44, 44, 44, 0.1);
            border-radius: 5px;
        }
        
        .code-block {
            background-color: #1e1e1e;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            margin: 15px 0;
        }
        
        .metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .metric-item {
            text-align: center;
            padding: 15px;
            background-color: rgba(44, 44, 44, 0.1);
            border-radius: 8px;
        }
        
        .metric-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #2c2c2c;
        }
        
        .metric-label {
            font-size: 0.9em;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="overlay">
        <div class="tech-container">
            
            <!-- Navigation -->
            <div class="back-nav">
                <a href="index.html" class="back-link">‚Üê Retour √† l'accueil</a>
            </div>
            
            <h1 style="text-align: center; margin-bottom: 40px;">Version Technique</h1>
            
            <!-- Vue d'ensemble technique -->
            <div class="project-section">
                <h2 class="section-title">üéØ Vue d'ensemble technique - Cluster Talos K8s</h2>
                <p><strong>Objectif :</strong> D√©ploiement d'un cluster Kubernetes production-ready sur Proxmox avec OS immutable Talos Linux.</p>
                
                <p><strong>Approche :</strong> Infrastructure as Code compl√®te (Terraform) avec GitOps (ArgoCD) pour une architecture cloud-native s√©curis√©e.</p>
                
                <p><strong>R√©sultat :</strong> Plateforme DevSecOps automatis√©e capable de d√©ployer et g√©rer des applications containeris√©es avec monitoring, s√©curit√© et haute disponibilit√© int√©gr√©s.</p>
            </div>
            
            <!-- Architecture & Stack -->
            <div class="project-section">
                <h2 class="section-title">üèóÔ∏è Architecture & Stack Technologique</h2>
                
                <h3>Infrastructure</h3>
                <div class="tech-stack">
                    <div class="tech-item"><strong>Hyperviseur :</strong> Proxmox VE</div>
                    <div class="tech-item"><strong>OS :</strong> Talos Linux (immutable)</div>
                    <div class="tech-item"><strong>IaC :</strong> Terraform</div>
                    <div class="tech-item"><strong>Cluster :</strong> 3 Control Planes + 3 Workers</div>
                </div>
                
                <h3>Kubernetes & R√©seau</h3>
                <div class="tech-stack">
                    <div class="tech-item"><strong>CNI :</strong> Cilium eBPF</div>
                    <div class="tech-item"><strong>LoadBalancer :</strong> MetalLB int√©gr√©</div>
                    <div class="tech-item"><strong>Ingress :</strong> Cilium Ingress Controller</div>
                    <div class="tech-item"><strong>DNS :</strong> CoreDNS</div>
                </div>
                
                <h3>DevSecOps</h3>
                <div class="tech-stack">
                    <div class="tech-item"><strong>GitOps :</strong> ArgoCD + ApplicationSets</div>
                    <div class="tech-item"><strong>Certificates :</strong> cert-manager + trust-manager</div>
                    <div class="tech-item"><strong>Secrets :</strong> SealedSecrets chiffr√©s</div>
                    <div class="tech-item"><strong>Automation :</strong> Renovate updates</div>
                </div>
            </div>
            
            <!-- Extraits de code cl√©s -->
            <div class="project-section">
                <h2 class="section-title">üíª Extraits de code cl√©s</h2>
                
                <h3>Configuration Terraform - VMs Talos</h3>
                <div class="code-block">
# 02-infrastructure-vms.tf
resource "proxmox_vm_qemu" "talos_controlplane" {
  count       = 3
  name        = "talos-cp-${count.index}"
  target_node = "proxmox-host"
  
  memory   = 4096
  cores    = 2
  sockets  = 1
  
  network {
    bridge = "vmbr1"
    model  = "virtio"
  }
  
  disk {
    storage = "local-lvm"
    type    = "scsi"
    size    = "20G"
  }
  
  boot      = "order=scsi0"
  bootdisk  = "scsi0"
  
  lifecycle {
    ignore_changes = [network]
  }
}</div>
                
                <h3>Bootstrap Cluster Talos</h3>
                <div class="code-block">
# 03-talos-configuration.tf
resource "talos_machine_configuration_apply" "controlplane" {
  count                       = 3
  client_configuration        = talos_machine_secrets.cluster.client_configuration
  machine_configuration_input = data.talos_machine_configuration.controlplane.machine_configuration
  node                       = proxmox_vm_qemu.talos_controlplane[count.index].default_ipv4_address
  
  config_patches = [
    yamlencode({
      cluster = {
        network = {
          cni = {
            name = "none"  # Cilium g√©r√© par Terraform
          }
        }
      }
    })
  ]
}</div>
                
                <h3>ArgoCD ApplicationSet Multi-environnements</h3>
                <div class="code-block">
# 07-k8s-gitops-argocd.tf
resource "kubernetes_manifest" "apps_ops_applicationset" {
  manifest = {
    apiVersion = "argoproj.io/v1alpha1"
    kind       = "ApplicationSet"
    metadata = {
      name      = "apps-ops"
      namespace = "argocd"
    }
    spec = {
      generators = [{
        git = {
          repoURL  = "https://gitlab.com/partage_devops/argocd.git"
          revision = "HEAD"
          files = [{
            path = "apps/apps-ops/*/prd/config.json"
          }]
        }
      }]
      template = {
        metadata = {
          name = "{{appName}}-{{env}}"
        }
        spec = {
          sources = [
            {
              repoURL        = "{{chartRepoURL}}"
              chart          = "{{chart}}"
              targetRevision = "{{chartVersion}}"
              helm = {
                valueFiles = ["$values/{{valuesPath}}"]
              }
            },
            {
              repoURL        = "{{valuesGitRepo}}"
              targetRevision = "HEAD"
              ref            = "values"
            }
          ]
        }
      }
    }
  }
}</div>
            </div>
            
            <!-- R√©sultats & M√©triques -->
            <div class="project-section">
                <h2 class="section-title">üìä R√©sultats & M√©triques</h2>
                
                <div class="metrics">
                    <div class="metric-item">
                        <div class="metric-value">6</div>
                        <div class="metric-label">Nodes K8s</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">30GB</div>
                        <div class="metric-label">RAM Total</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">99.9%</div>
                        <div class="metric-label">Uptime</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value">15+</div>
                        <div class="metric-label">Apps d√©ploy√©es</div>
                    </div>
                </div>
                
                <h3>Fonctionnalit√©s valid√©es</h3>
                <ul>
                    <li>‚úÖ <strong>D√©ploiement automatis√©</strong> : terraform apply ‚Üí cluster op√©rationnel en 5 minutes</li>
                    <li>‚úÖ <strong>GitOps complet</strong> : ApplicationSets g√©n√®rent automatiquement les applications</li>
                    <li>‚úÖ <strong>Haute disponibilit√©</strong> : Failover automatique des control planes</li>
                    <li>‚úÖ <strong>R√©seau eBPF</strong> : Performance native avec Cilium CNI</li>
                    <li>‚úÖ <strong>TLS automatique</strong> : Certificats g√©n√©r√©s et renouvel√©s automatiquement</li>
                    <li>‚úÖ <strong>Monitoring int√©gr√©</strong> : Prometheus/Grafana/Hubble UI</li>
                    <li>‚úÖ <strong>Updates automatiques</strong> : Renovate maintient les versions √† jour</li>
                    <li>‚úÖ <strong>S√©curit√© by design</strong> : OS immutable + secrets chiffr√©s + RBAC</li>
                </ul>
                
                <h3>D√©fis techniques r√©solus</h3>
                <ul>
                    <li>üîß <strong>Bootstrap Talos</strong> : Configuration r√©seau  avec VIP failover</li>
                    <li>üîß <strong>Cilium eBPF</strong> : Int√©gration native sans kube-proxy</li>
                    <li>üîß <strong>Multi-sources ArgoCD</strong> : Combination charts Helm + values Git + manifests</li>
                    <li>üîß <strong>Certificate management</strong> : CA interne + certificats wildcard ECDSA</li>
                </ul>
            </div>
                <ul>
                    <li>üìö Code source : github.com/DioBrand0o/portfolio</li>
                </ul>
            </div>
            
        </div>
    </div>
</body>
</html>
